(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{95:function(e,t,c){},96:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(13),a=c.n(s),j=c(5),r=c(10),i=c(8),l=c(7),d=c(15),o=c(4),b=c(2),h=[{text:"Home",link:"/",type:"home",id:"home",icon:Object(b.jsx)(l.a,{icon:i.c,className:"mx-1"})},{text:"Hotels",link:"/hotels",type:"item",id:"hotel",icon:Object(b.jsx)(l.a,{icon:i.a,className:"mx-1"})}],O=function(e){var t=e.children,c=Object(n.useState)(!1),s=Object(r.a)(c,2),a=s[0],j=s[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"fixed-top",style:{backgroundColor:"#f8f8f8",borderBottom:"1px solid #d9d9d9",height:"62px"},children:Object(b.jsx)(o.h,{children:Object(b.jsxs)(o.q,{expand:"lg",light:!0,children:[Object(b.jsx)(o.r,{tag:"span",className:"me-auto",children:Object(b.jsx)(d.b,{to:"/",className:"px-4 py-2",style:{fontSize:"1.5rem"},children:"Smartly Demo"})}),Object(b.jsx)(o.s,{onClick:function(){return j(!a)},className:"me-2"}),Object(b.jsx)(o.g,{navbar:!0,isOpen:a,style:{backgroundColor:"#f8f8f8"},children:Object(b.jsx)(o.o,{navbar:!0,className:"me-auto align-items-center",children:h.map((function(e){return Object(b.jsx)(o.p,{children:Object(b.jsxs)(d.b,{to:e.link,className:"px-4 py-2",style:{fontSize:"0.75rem"},onClick:function(){return j(!1)},children:[e.icon,e.text]})},e.id)}))})})]})})}),Object(b.jsx)("div",{style:{height:"62px"}}),t]})},x=function(e){var t=e.children;return Object(b.jsx)("div",{style:{backgroundColor:"#f8f8f8",border:"1px #d9d9d9 solid"},className:"mt-4",children:t})},u=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(x,{children:Object(b.jsx)(o.h,{className:"py-4",children:Object(b.jsxs)("div",{className:"text-center",children:[Object(b.jsx)(o.t,{children:Object(b.jsx)(o.f,{children:Object(b.jsx)("h1",{children:"Smartly.io Travel Agency"})})}),Object(b.jsx)(o.t,{children:Object(b.jsx)(o.f,{children:Object(b.jsx)("p",{children:"Your number 1 choice for virtual travel"})})}),Object(b.jsx)(o.t,{children:Object(b.jsx)(o.f,{children:Object(b.jsx)(d.b,{to:"/hotels",children:Object(b.jsxs)(o.b,{children:[Object(b.jsx)(l.a,{icon:i.a,className:"mx-2"}),"Hotels"]})})})})]})})})})},m=c(16),f=c(6),y=c(14),p=c(24),g=c.n(p),k=c(9),v=c.n(k),N=c(30),_=c.n(N),Y=c(44),C=c(45),D=c.n(C),w=function(){return function(){var e=Object(Y.a)(_.a.mark((function e(t){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("http://localhost:3001/hotellist");case 3:c=e.sent,t({type:"FETCH_HOTELS",payload:c.data}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},S=c(25),M=c.n(S),I=function(e){var t=e.event,c=e.object;M.a.track(t,Object(f.a)({content_type:"hotel"},c))},E={fontSize:"0.75rem"},F=function(){var e=Object(j.g)(),t=Object(j.e)(),c=Object(y.b)(),s=Object(j.f)(),a=Object(n.useState)({}),d=Object(r.a)(a,2),h=d[0],O=d[1],u=Object(n.useState)(!1),p=Object(r.a)(u,2),k=p[0],N=p[1],_=Object(n.useState)(!1),Y=Object(r.a)(_,2),C=Y[0],D=Y[1],S=Object(y.c)((function(t){return t.hotels.find((function(t){return t.hotelid===parseInt(e.id)}))}));Object(n.useEffect)((function(){S&&h.checkin_date&&h.checkout_date&&h.num_adults&&!C&&(D(!0),I({event:"viewContent",object:Object(f.a)(Object(f.a)(Object(f.a)({},S),h),{},{content_ids:S.hotelid})}))}),[h,S,C]),Object(n.useEffect)((function(){var e=g.a.parse(t.search);c(w()),Object.keys(e).length>0?O(e):O({})}),[t,c]);var M=function(e){var c=Object(f.a)({},h);c[e.target.id]=e.target.value;var n=Object.keys(c).map((function(e){return"".concat(e,"=").concat(c[e])}));s("".concat(t.pathname,"?").concat(n.join("&")))};return S?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(o.l,{isOpen:k,toggle:function(){return N(!1)},centered:!0,children:[Object(b.jsx)(o.n,{toggle:function(){return N(!1)},children:"Confirm"}),Object(b.jsx)(o.m,{children:"Your booking has been confirmed!"})]}),Object(b.jsx)(x,{children:Object(b.jsxs)(o.h,{className:"text-center my-4",children:[Object(b.jsx)("h1",{children:S.name}),Object(b.jsx)("img",{src:S.imageurl,alt:S.name,width:"400px"})]})}),Object(b.jsx)(x,{children:Object(b.jsxs)(o.h,{className:"p-2",style:{maxWidth:"800px"},children:[Object(b.jsxs)(o.t,{children:[Object(b.jsx)(o.f,{xs:"6",md:"4",children:Object(b.jsxs)(o.j,{className:"customInput",children:[Object(b.jsxs)(o.k,{style:E,children:[Object(b.jsx)(l.a,{icon:i.f,className:"mx-1"})," Travellers"]}),Object(b.jsx)(o.i,{style:E,type:"select",id:"num_adults",onChange:M,value:h.num_adults?h.num_adults:"",children:Object(m.a)(Array(10)).map((function(e,t){return Object(b.jsx)("option",{value:t+1,children:t+1},t)}))})]})}),Object(b.jsx)(o.f,{xs:"6",md:"4",children:Object(b.jsxs)(o.j,{className:"customInput",children:[Object(b.jsxs)(o.k,{style:E,children:[Object(b.jsx)(l.a,{icon:i.b,className:"mx-1"})," Check In"]}),Object(b.jsx)(o.i,{style:E,type:"date",min:v()(new Date).format("YYYY-MM-DD"),max:v()(h.checkout_date),value:h.checkin_date?h.checkin_date:"",onChange:M,id:"checkin_date"})]})}),Object(b.jsx)(o.f,{xs:"6",md:"4",children:Object(b.jsxs)(o.j,{className:"customInput",children:[Object(b.jsxs)(o.k,{style:E,children:[Object(b.jsx)(l.a,{icon:i.b,className:"mx-1"}),"Check Out"]}),Object(b.jsx)(o.i,{style:E,type:"date",value:h.checkout_date?h.checkout_date:"",min:v()(new Date(v()(h.checkin_date).add(1,"days"))).format("YYYY-MM-DD"),id:"checkout_date",onChange:M})]})})]}),Object(b.jsx)(o.c,{className:"p-4 my-2",children:S.description}),Object(b.jsx)(o.u,{striped:!0,children:Object(b.jsxs)("tbody",{style:{fontSize:"0.75rem"},children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Price"}),Object(b.jsxs)("td",{children:["$",S.baseprice]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Address"}),Object(b.jsx)("td",{children:S.addr1})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"City"}),Object(b.jsx)("td",{children:S.city})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Neighborhood"}),Object(b.jsx)("td",{children:S.neighborhood})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Country"}),Object(b.jsx)("td",{children:S.country})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Rating"}),Object(b.jsx)("td",{children:Object(m.a)(Array(S.starrating)).map((function(e,t){return Object(b.jsx)(l.a,{icon:i.e},t)}))})]})]})}),Object(b.jsx)(o.t,{children:Object(b.jsx)(o.f,{xs:"auto",style:{marginLeft:"auto"},children:Object(b.jsx)(o.b,{color:"primary",onClick:function(){N(!0),I({event:"Purchase",object:Object(f.a)(Object(f.a)(Object(f.a)({},S),h),{},{content_ids:S.hotelid})})},disabled:!(h.num_adults&&h.checkin_date&&h.checkout_date),children:"Book"})})})]})})]}):"Loading...."},H=c(23),z=function(e){var t=e.hotel;return Object(b.jsxs)(o.c,{style:{maxHeight:"370px"},className:"my-1 customHotel",children:[Object(b.jsx)("div",{style:{backgroundImage:"url(".concat(t.imageurl,")"),backgroundSize:"cover",width:"100%",height:"250px"}}),Object(b.jsx)(o.e,{tag:"h4",children:t.name}),Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.t,{className:"align-items-center",children:Object(b.jsx)(o.f,{xs:"12",children:Object(b.jsxs)("p",{style:{fontSize:"0.9rem"},className:"mb-0",children:[t.addr1," - ",t.country," ",t.country!==t.city&&"- ".concat(t.city)]})})}),Object(b.jsx)(o.t,{className:"mt-2",children:Object(b.jsx)(o.f,{xs:"auto",children:Object(b.jsxs)(o.a,{color:"primary",className:"py-2",children:["$",t.baseprice," per night"]})})}),Object(b.jsx)(o.t,{className:"mt-2",children:Object(b.jsx)(o.f,{xs:"auto",children:Object(m.a)(Array(t.starrating)).map((function(e,t){return Object(b.jsx)(l.a,{icon:i.e},t)}))})})]})]})},T={fontSize:"0.75rem"},A=function(e){var t=e.fields,c=e.setField,n=e.hotels,s=e.reset,a=e.search,j=Object(m.a)(new Set(n.map((function(e){return e.city}))));return Object(b.jsx)(x,{children:Object(b.jsx)(o.h,{className:"py-4",children:Object(b.jsxs)("div",{className:"text-center",children:[Object(b.jsx)(o.t,{children:Object(b.jsx)(o.f,{children:Object(b.jsxs)("h1",{children:[Object(b.jsx)(l.a,{icon:i.a})," Hotels"]})})}),Object(b.jsxs)(o.t,{children:[Object(b.jsx)(o.f,{xs:"6",md:"2",className:"align-items-center",children:Object(b.jsxs)(o.j,{className:"customInput",children:[Object(b.jsxs)(o.k,{style:T,children:[Object(b.jsx)(l.a,{icon:i.d,className:"mx-1"}),"Cities"]}),Object(b.jsxs)(o.i,{style:T,type:"select",value:t.city,onChange:c,id:"city",children:[Object(b.jsx)("option",{value:"",children:"Select City"}),j.map((function(e){return Object(b.jsx)("option",{value:e,children:e},e)}))]})]})}),Object(b.jsx)(o.f,{xs:"6",md:"2",children:Object(b.jsxs)(o.j,{className:"customInput",children:[Object(b.jsxs)(o.k,{style:T,children:[Object(b.jsx)(l.a,{icon:i.f,className:"mx-1"})," Travellers"]}),Object(b.jsx)(o.i,{style:T,type:"select",id:"num_adults",onChange:c,value:t.num_adults,children:Object(m.a)(Array(10)).map((function(e,t){return Object(b.jsx)("option",{value:t+1,children:t+1},t)}))})]})}),Object(b.jsx)(o.f,{xs:"6",md:"3",children:Object(b.jsxs)(o.j,{className:"customInput",children:[Object(b.jsxs)(o.k,{style:T,children:[Object(b.jsx)(l.a,{icon:i.b,className:"mx-1"})," Check In"]}),Object(b.jsx)(o.i,{style:T,type:"date",min:v()(new Date).format("YYYY-MM-DD"),max:v()(t.checkout_date),value:t.checkin_date,onChange:c,id:"checkin_date"})]})}),Object(b.jsx)(o.f,{xs:"6",md:"3",children:Object(b.jsxs)(o.j,{className:"customInput",children:[Object(b.jsxs)(o.k,{style:T,children:[Object(b.jsx)(l.a,{icon:i.b,className:"mx-1"}),"Check Out"]}),Object(b.jsx)(o.i,{style:T,type:"date",value:t.checkout_date,min:v()(new Date(v()(t.checkin_date).add(1,"days"))).format("YYYY-MM-DD"),id:"checkout_date",onChange:c})]})}),Object(b.jsxs)(o.f,{xs:"12",md:"2",className:"d-flex justify-content-end",children:[Object(b.jsx)(o.b,{className:"mx-2",onClick:s,children:"Clear"}),Object(b.jsx)(o.b,{color:"primary",onClick:a,disabled:!t.city,children:"Search"})]})]})]})})})},B={checkin_date:v()(new Date).format("YYYY-MM-DD"),checkout_date:v()(new Date(v()(new Date).add(1,"days"))).format("YYYY-MM-DD"),num_adults:1,city:""},L=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.hotels})),c=Object(j.f)(),s=Object(j.e)(),a=Object(n.useState)(B),i=Object(r.a)(a,2),l=i[0],h=i[1],O=Object(n.useState)(t),u=Object(r.a)(O,2),m=u[0],p=u[1],k=Object(n.useState)({}),N=Object(r.a)(k,2),_=N[0],Y=N[1];Object(n.useEffect)((function(){new Date(l.checkin_date)>new Date(l.checkout_date)&&h(Object(f.a)(Object(f.a)({},l),{},{checkout_date:v()(new Date(v()(l.checkin_date).add(1,"days"))).format("YYYY-MM-DD")}))}),[l.checkin_date,l]),Object(n.useEffect)((function(){var c=g.a.parse(s.search);0===t.length?e(w()):Object.keys(c).length>0?(h(c),p(c.city?t.filter((function(e){return e.city===c.city})):t)):p(t),Y(c)}),[s,t,e]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(A,{fields:l,setField:function(e){return h(Object(f.a)(Object(f.a)({},l),{},Object(H.a)({},e.target.id,e.target.value)))},hotels:t,reset:function(){Y({}),h(B),c("/hotels"),p(t)},search:function(){I({event:"Search",object:Object(f.a)(Object(f.a)({},l),{},{country:l.city,region:l.city})}),p(l.city?t.filter((function(e){return e.city===l.city})):t);var e=Object.keys(l).map((function(e){return"".concat(e,"=").concat(l[e])}));c("/hotels?".concat(e.join("&")))}}),Object(b.jsx)(x,{children:Object(b.jsxs)(o.h,{className:"my-4",children:[Object.keys(_).length>0&&Object(b.jsx)(o.t,{children:Object(b.jsx)(o.f,{children:Object(b.jsxs)("p",{style:{fontSize:"0.75rem"},children:["Found ",Object(b.jsx)("b",{children:m.length})," hotels in ",_.city," for"," ",Object(b.jsx)("b",{children:v()(_.checkin_date).format("MMM DD, YYYY")})," -"," ",Object(b.jsx)("b",{children:v()(_.checkout_date).format("MMM DD, YYYY")})]})})}),Object(b.jsx)(o.t,{children:m.map((function(e){return Object(b.jsx)(o.f,{xs:"12",md:"4",children:Object(b.jsx)(d.b,{to:"/hotels/".concat(e.hotelid,"?").concat(Object.keys(_).map((function(e){return"".concat(e,"=").concat(_[e])})).join("&")),children:Object(b.jsx)(z,{hotel:e})})},e.hotelid)}))})]})})]})};var W=function(){var e=Object(y.b)();return Object(n.useEffect)((function(){M.a.init("256044018098132",{},{autoConfig:!0,debug:!0}),e(w())}),[e]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(O,{}),Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{path:"/",element:Object(b.jsx)(u,{})}),Object(b.jsx)(j.a,{exact:!0,path:"/hotels/:id",element:Object(b.jsx)(F,{})}),Object(b.jsx)(j.a,{path:"/hotels",element:Object(b.jsx)(L,{})})]})]})},$=c(19),J=c(46);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P={},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;return t.payload,e},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"FETCH_HOTELS"===t.type?t.payload:e},G=Object($.b)({counter:q,hotels:R}),K=(c(94),c(95),Object($.c)(G,Object($.a)(J.a)));a.a.render(Object(b.jsx)(y.a,{store:K,children:Object(b.jsx)(d.a,{children:Object(b.jsx)(W,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[96,1,2]]]);
//# sourceMappingURL=main.84ee53f9.chunk.js.map